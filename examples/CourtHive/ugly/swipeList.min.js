"use strict";var SwipeList=function(){var t={hasClass:function(t,s){return new RegExp("(^|\\s)"+s+"(\\s|$)").test(t.className)},addClass:function(t,s){if(!this.hasClass(t,s)){var a=t.className.split(" ");a.push(s),t.className=a.join(" ")}},removeClass:function(t,s){if(this.hasClass(t,s)){var a=new RegExp("(^|\\s)"+s+"(\\s|$)","g");t.className=t.className.replace(a,"")}}};return{init:function(s){var a=0,e=0;s.buttons.forEach(function(t){"right"==t.side&&(a+=t.width||0),"left"==t.side&&(e+=t.width||0)});var i=Array.from(document.querySelectorAll(s.container));i.forEach(function(n){var r=0,l=0,o=null,h=0,c=0;s.buttons.forEach(function(t){var s=document.createElement("div");s.textContent=t.text,s.className=t.class,"right"==t.side&&(h+=t.width||0,s.style.right=-1*h+"px"),"left"==t.side&&(c+=t.width||0,s.style.left=-1*c+"px");var a=n.appendChild(s);if(t.image){var e=document.createElement("img");e.src=t.image,e.className=t.image_class,a.appendChild(e)}}),n.style.webkitTransform="translateZ(0)",n.style.transform="translateZ(0)",n.addEventListener("touchstart",function(s){var a=this;this.style.webkitTransitionDuration="0ms",this.style.transitionDuration="0ms",i.forEach(function(s){t.hasClass(s,"move-out-click")&&s!=a&&(s.style.webkitTransitionDuration="325ms",s.style.transitionDuration="325ms",s.style.webkitTransform="translateX(0px)",s.style.transform="translateX(0px)",t.removeClass(s,"move-out-click"))}),o={x:s.touches[0].pageX,y:s.touches[0].pageY}},!0),n.addEventListener("touchmove",function(s){if(null!==o){var i=s.touches[0].pageX,n=s.touches[0].pageY;if(r=i-o.x,l=n-o.y,Math.abs(r)>Math.abs(l)){if(r>0)if(t.hasClass(this,"move-out-click")){h=r>a?0:-a+r;this.style.webkitTransform="translateX("+h+"px)",this.style.transform="translateX("+h+"px)"}else if(e){h=Math.abs(r)>a?a:r;this.style.webkitTransform="translateX("+h+"px)",this.style.transform="translateX("+h+"px)"}if(r<0)if(t.hasClass(this,"move-out-click")){if(e){h=Math.abs(r)>a?a:r;this.style.webkitTransform="translateX("+h+"px)",this.style.transform="translateX("+h+"px)"}}else{var h=Math.abs(r)>a?-a:r;this.style.webkitTransform="translateX("+h+"px)",this.style.transform="translateX("+h+"px)"}}}},!0),n.addEventListener("touchend",function(s){if(null!==o){if(this.style.webkitTransitionDuration="125ms",this.style.transitionDuration="125ms",t.hasClass(this,"move-out-click")){if(r>0&&a){i=r>10?0:-a;this.style.webkitTransform="translateX("+i+"px)",this.style.transform="translateX("+i+"px)",0===i&&t.removeClass(this,"move-out-click")}else if(e){var i=r<-10?0:a;this.style.webkitTransform="translateX("+i+"px)",this.style.transform="translateX("+i+"px)",0===i&&t.removeClass(this,"move-out-click")}}else if(r<0&&a){var n=Math.abs(r)>a/2?-a:0;this.style.webkitTransform="translateX("+n+"px)",this.style.transform="translateX("+n+"px)",0!==n&&t.addClass(this,"move-out-click")}else if(e){var h=Math.abs(r)>a/2?a:0;this.style.webkitTransform="translateX("+h+"px)",this.style.transform="translateX("+h+"px)",0!==h&&t.addClass(this,"move-out-click")}o=null,r=0,l=0}},!0),n.addEventListener("touchcancel",function(s){console.log("cancel"),this.style.webkitTransitionDuration="225ms",this.style.transitionDuration="225ms",this.style.webkitTransform="translateX(0px)",this.style.transform="translateX(0px)",t.removeClass(this,"move-out-click"),o=null,r=0,l=0},!0)})}}}();